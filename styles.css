:root { --bg:#eee; --card:#1b1c1f; --text:#000; --muted:#4b5563; --acc:#7bd389; }
*{box-sizing:border-box}
html, body{-webkit-text-size-adjust:100%}
body{margin:0;background:var(--bg);color:var(--text);font:16px/1.4 -apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Inter,system-ui}

/* Bars */
.topbar{position:sticky;top:0;display:flex;gap:.5rem;align-items:center;justify-content:space-between;padding:12px 16px;background:#f2f2f2;box-shadow:0 1px 0 #d9d9d9}
.topbar h1{margin:0;font-size:1.1rem;letter-spacing:.2px}
.topbar button{background:var(--acc);color:#06270f;border:0;border-radius:10px;padding:8px 12px;font-weight:600}

.hidden{display:none}
main#app{padding:16px 16px 88px}

/* Cards (legacy detail kept but not used in new flow) */
.card{background:var(--card);border:1px solid #2a2d33;border-radius:14px;padding:14px;margin:10px 0}
.row{display:flex;align-items:center;gap:.75rem}
.row.space{justify-content:space-between}

/* Buttons */
.btn{
  background:#cfe8ff;
  border:2px solid navy;
  color:#000;
  padding:10px 12px;
  border-radius:12px;
  font-weight:600;
  -webkit-tap-highlight-color: transparent;
  touch-action: manipulation;
  -webkit-user-select: none;
  user-select: none;
  position: relative;
  z-index: 1;
}
.btn.acc{background:var(--acc);border-color:#5ec875;color:#06150d}
.btn.danger{background:#ffdddd;border-color:#c0392b;color:#a40000}

.group{display:grid;gap:.5rem}

/* Inputs â€” keep 16px to avoid iOS zoom */
.input, textarea{
  width:100%;
  background:#121317;
  border:1px solid #2a2d33;
  border-radius:12px;
  color:#f5f7fb;
  padding:10px 12px;
  font-size:16px;
}
.input.light{background:#fff;border:1px solid #b7c2d0;color:#000}
textarea{min-height:180px;resize:vertical}

/* Smaller textarea helper */
.ta{ min-height:120px; resize:vertical; }

h2{font-size:1rem;margin:0 0 .5rem}
.muted{color:var(--muted)}
.list{display:grid;gap:.5rem}
.item{display:flex;align-items:center;justify-content:space-between;padding:12px;border:1px solid #2a2d33;border-radius:12px;background:#14161a}
.item .title{font-weight:600}

/* Bottom bar */
.bottombar{
  position:fixed;bottom:0;left:0;right:0;
  background:#f2f2f2;
  display:flex;gap:10px;justify-content:space-between;align-items:center;
  padding:12px 16px;border-top:1px solid #d9d9d9
}
.bottombar button,.bottombar .import-label{
  background:navy;border:2px solid navy;color:#fff;border-radius:12px;font-weight:600;
  font-size:1rem;width:110px;height:44px;padding:0;display:inline-flex;align-items:center;justify-content:center;
}
.import-label{cursor:pointer}

/* Home */
.home-categories{ display:grid; gap:16px; padding:16px; }
.home-categories .btn{ font-size:2.0em; padding:14px 18px; }

/* Authors */
.authors-page h2{ margin:0 0 8px; }
.authors-grid{ display:grid; gap:16px; grid-template-columns:1fr; padding:8px 0 4px; }
.author-item{ width:100%; }
.author-btn{ display:block; width:100%; min-height:64px; font-size:1.6em; padding:11px 14px; text-align:center; }

/* Inline author edit */
.author-edit{
  display:flex; flex-direction:column; gap:12px;
  background:#f8f9fb; border:1px solid #d9e0ea; border-radius:12px; padding:12px;
  position: relative;
}
.author-edit .edit-actions .btn{ min-height:48px; }

/* ===== Pieces list page ===== */
.pieces-page {}
.pieces-header h2{ margin:0 0 8px; }
.pieces-grid{ display:grid; gap:16px; grid-template-columns:1fr; padding:8px 0 4px; }
.piece-item{ width:100%; }
.piece-btn{ display:block; width:100%; min-height:64px; font-size:1.2em; padding:12px 14px; text-align:left; }

/* Inline piece edit */
.piece-edit{
  display:flex; flex-direction:column; gap:12px;
  background:#f8f9fb; border:1px solid #d9e0ea; border-radius:12px; padding:12px;
}
.fav-row{ display:inline-flex; gap:8px; align-items:center; font-size:.95rem; }

/* ===== Read view (new) ===== */
.read-page { }
.read-header { margin-bottom: 6px; }
.read-author { font-weight:700; margin:0 0 2px; }
.read-title  { font-weight:600; margin:0 0 6px; }
.read-text{
  background:transparent;
  color:#000;
  padding:12px 24px;
  white-space:pre;          /* preserve line breaks; no wrapping */
  line-height:1.4;
  font-size:20px;           /* initial, JS will auto-scale */
  overflow-wrap:normal;
  word-break:normal;
}

/* Floating action button (+) */
.fab{
  position:fixed; right:20px; bottom:88px; width:56px; height:56px; border-radius:50%;
  background:navy; color:#fff; border:2px solid navy; font-size:1.8rem; line-height:1;
  display:flex; align-items:center; justify-content:center; box-shadow:0 6px 16px rgba(0,0,0,.25); z-index:10;
}

/* Modal (for Pieces add) */
.modal-backdrop{
  position:fixed; inset:0; background:rgba(0,0,0,.4);
  display:flex; align-items:center; justify-content:center;
  z-index:1000;
}
.modal{
  width:min(92vw, 480px);
  background:#fff; color:#000;
  border-radius:14px;
  padding:16px;
  box-shadow:0 12px 28px rgba(0,0,0,.35);
}
.modal-title{ margin:0 0 10px; font-size:1.1rem; }
.modal-backdrop.hidden { display:none !important; }

/* Toast */
.toast{
  position:fixed; left:50%; bottom:96px; transform:translateX(-50%) translateY(10px);
  background:#111; color:#fff; padding:10px 14px; border-radius:12px; font-size:.95rem;
  opacity:0; transition:opacity .2s ease, transform .2s ease; z-index:9999;
}
.toast.show{ opacity:1; transform:translateX(-50%) translateY(0); }

.search{margin:6px 0 10px}
.small{font-size:.85rem}
a{ color: var(--acc); text-decoration: none; }